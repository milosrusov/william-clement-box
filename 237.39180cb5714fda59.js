"use strict";(self.webpackChunktiles=self.webpackChunktiles||[]).push([[237],{17237:(M,g,m)=>{m.r(g),m.d(g,{AnimationPropertyInfo:()=>b,TransformNodeAnimationPropertyInfo:()=>A,WeightAnimationPropertyInfo:()=>f,getQuaternion:()=>T,getVector3:()=>_,getWeights:()=>c});var l=m(15519),h=m(99722),u=m(7974);function _(s,n,t,o){return h.Pq.FromArray(n,t).scaleInPlace(o)}function T(s,n,t,o){return h.PT.FromArray(n,t).scaleInPlace(o)}function c(s,n,t,o){const e=new Array(s._numMorphTargets);for(let i=0;i<e.length;i++)e[i]=n[t++]*o;return e}class b{constructor(n,t,o,e){this.type=n,this.name=t,this.getValue=o,this.getStride=e}_buildAnimation(n,t,o){const e=new l.X5(n,this.name,t,this.type);return e.setKeys(o),e}}class A extends b{buildAnimations(n,t,o,e){const i=[];return i.push({babylonAnimatable:n._babylonTransformNode,babylonAnimation:this._buildAnimation(t,o,e)}),i}}class f extends b{buildAnimations(n,t,o,e){const i=[];if(n._numMorphTargets)for(let r=0;r<n._numMorphTargets;r++){const p=new l.X5(`${t}_${r}`,this.name,o,this.type);if(p.setKeys(e.map(a=>({frame:a.frame,inTangent:a.inTangent?a.inTangent[r]:void 0,value:a.value[r],outTangent:a.outTangent?a.outTangent[r]:void 0,interpolation:a.interpolation}))),n._primitiveBabylonMeshes)for(const a of n._primitiveBabylonMeshes)if(a.morphTargetManager){const d=a.morphTargetManager.getTarget(r),y=p.clone();d.animations.push(y),i.push({babylonAnimatable:d,babylonAnimation:y})}}return i}}(0,u.ZU)("/nodes/{}/translation",[new A(l.X5.ANIMATIONTYPE_VECTOR3,"position",_,()=>3)]),(0,u.ZU)("/nodes/{}/rotation",[new A(l.X5.ANIMATIONTYPE_QUATERNION,"rotationQuaternion",T,()=>4)]),(0,u.ZU)("/nodes/{}/scale",[new A(l.X5.ANIMATIONTYPE_VECTOR3,"scaling",_,()=>3)]),(0,u.ZU)("/nodes/{}/weights",[new f(l.X5.ANIMATIONTYPE_FLOAT,"influence",c,s=>s._numMorphTargets)])}}]);